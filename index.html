<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Be & There Be ‚Äì Streak to 25</title>

<style>
:root{
  --green:#22c55e;
  --yellow:#facc15;
  --teal:#14b8a6;
  --purple:#7c3aed;
  --pink:#ec4899;
  --bg:#f8fafc;
  --dark:#0f172a;
  --white:#ffffff;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:linear-gradient(135deg,#dcfce7,#fef9c3);
  color:var(--dark);
}
.screen{
  min-height:100svh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:16px;
}
.hidden{display:none}

/* START */
.start-card{
  background:var(--white);
  max-width:640px;
  width:100%;
  padding:32px;
  border-radius:26px;
  box-shadow:0 18px 40px rgba(15,23,42,.18);
  display:flex;
  flex-direction:column;
  gap:20px;
}
.start-title{
  text-align:center;
  font-size:2.4rem;
  font-weight:900;
  color:var(--purple);
}
.subtitle{
  text-align:center;
  font-weight:600;
  color:#4b5563;
}
.instructions{
  background:#fef3c7;
  border-radius:18px;
  padding:18px;
  font-weight:700;
  border:2px dashed #f59e0b;
  font-size:.95rem;
}
.name-input{
  padding:14px;
  border-radius:16px;
  border:2px solid var(--purple);
  font-weight:700;
  outline:none;
}
.name-input:focus{
  box-shadow:0 0 0 3px rgba(124,58,237,.25);
}
.btn{
  padding:14px 18px;
  border-radius:18px;
  background:var(--purple);
  color:white;
  font-weight:800;
  font-size:1.1rem;
  text-align:center;
  cursor:pointer;
  border:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  transition:transform .08s ease,box-shadow .08s ease,background .15s ease;
}
.btn:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 20px rgba(124,58,237,.35);
}
.btn:active{
  transform:translateY(0);
  box-shadow:none;
}
.btn-secondary{
  background:#0f172a;
}
.btn-danger{
  background:var(--pink);
}

/* GAME */
.app{
  max-width:1100px;
  width:100%;
  display:flex;
  flex-direction:column;
  gap:18px;
}
.header{
  background:var(--purple);
  color:white;
  padding:18px;
  border-radius:18px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:800;
  box-shadow:0 14px 30px rgba(88,28,135,.35);
}
.header-right{
  display:flex;
  gap:10px;
}
.progress-wrap{
  background:#e5e7eb;
  border-radius:14px;
  overflow:hidden;
}
.progress-bar{
  height:20px;
  background:linear-gradient(90deg,var(--green),var(--teal));
  width:0%;
  transition:width .3s ease;
}
.stats{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
.stat{
  background:var(--white);
  padding:12px;
  border-radius:14px;
  text-align:center;
  font-weight:800;
  box-shadow:0 6px 14px rgba(15,23,42,.08);
}
.game{
  background:#ecfeff;
  padding:22px;
  border-radius:22px;
  display:flex;
  flex-direction:column;
  gap:16px;
  box-shadow:0 18px 40px rgba(8,47,73,.18);
}
.sentence{
  background:white;
  border:4px solid var(--yellow);
  border-radius:18px;
  padding:24px;
  font-size:1.5rem;
  font-weight:900;
  text-align:center;
}
.activity-label{
  align-self:center;
  padding:6px 16px;
  border-radius:999px;
  color:white;
  font-weight:900;
  font-size:.9rem;
  letter-spacing:.06em;
}
.choose{background:var(--green)}
.order{background:var(--teal)}

.game-instructions{
  background:#e0f2fe;
  border-radius:16px;
  padding:12px 16px;
  font-size:.9rem;
  font-weight:600;
  color:#0f172a;
  border:1px dashed #38bdf8;
}
.game-instructions b{
  color:#0369a1;
}

.choices{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:14px;
}
.choice{
  padding:18px;
  border-radius:16px;
  font-weight:900;
  color:white;
  text-align:center;
  cursor:pointer;
  box-shadow:0 10px 20px rgba(15,23,42,.18);
  transition:transform .08s ease,box-shadow .08s ease,filter .08s ease;
}
.choice:hover{
  transform:translateY(-2px);
  box-shadow:0 14px 26px rgba(15,23,42,.25);
  filter:brightness(1.05);
}
.c1{background:var(--green)}
.c2{background:var(--purple)}
.c3{background:var(--pink)}
.c4{background:var(--yellow);color:black}

.wordbank{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}
.word{
  background:linear-gradient(135deg,#38bdf8,#14b8a6);
  color:#0f172a;
  padding:12px 22px;
  border-radius:999px;
  font-weight:800;
  font-size:1.1rem;
  cursor:pointer;
  box-shadow:0 10px 20px rgba(15,23,42,.18);
  transition:transform .08s ease,box-shadow .08s ease,filter .08s ease;
}
.word:hover{
  transform:translateY(-2px);
  box-shadow:0 14px 26px rgba(15,23,42,.25);
  filter:brightness(1.05);
}
.word.used{
  background:#e5e7eb;
  color:#6b7280;
  border:3px dashed #9ca3af;
  cursor:not-allowed;
  opacity:.6;
  box-shadow:none;
}
.answer{
  min-height:64px;
  background:white;
  border:4px dashed var(--teal);
  border-radius:16px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:900;
  font-size:1.3rem;
  padding:8px 14px;
}
.actions-row{
  display:flex;
  gap:10px;
  justify-content:center;
}
.feedback{
  text-align:center;
  font-weight:900;
  font-size:1.2rem;
  padding:12px;
  border-radius:14px;
}
.ok{background:#dcfce7;color:#166534}
.no{background:#fee2e2;color:#991b1b}

/* PAUSE OVERLAY */
.pause-overlay{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.55);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:20;
}
.pause-box{
  background:white;
  padding:24px 28px;
  border-radius:20px;
  max-width:320px;
  text-align:center;
  box-shadow:0 18px 40px rgba(15,23,42,.45);
  display:flex;
  flex-direction:column;
  gap:14px;
}
</style>
</head>

<body>

<!-- START -->
<div class="screen" id="startScreen">
  <div class="start-card">
    <div class="start-title">Be & There Be</div>
    <div class="subtitle">Build a perfect streak of 25 correct answers</div>
    <div class="instructions">
      üéØ <b>Goal:</b> Get <b>25 correct answers in a row</b>.<br>
      ‚úÖ If your answer is correct, your streak goes up.<br>
      ‚ùå If your answer is wrong, your streak goes back to <b>0</b>.<br>
      üí° You will practise <b>there is / there are / there was / there were</b>, affirmative, negative and WH‚Äëquestions.
    </div>
    <input id="playerName" class="name-input" placeholder="Write your name here">
    <button class="btn" id="startBtn">üöÄ Start game</button>
  </div>
</div>

<!-- GAME -->
<div class="screen hidden" id="gameScreen">
  <div class="app">

    <div class="header">
      <div id="playerLabel"></div>
      <div class="header-right">
        <button class="btn btn-secondary" id="pauseBtn">‚è∏ Pause</button>
        <button class="btn btn-danger" id="resetBtn">üîÅ Reset</button>
      </div>
    </div>

    <div class="progress-wrap">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="stats">
      <div class="stat">Streak<br><span id="streak">0</span>/25</div>
      <div class="stat">Mistakes<br><span id="mistakes">0</span></div>
    </div>

    <div class="game">
      <div class="sentence" id="sentence"></div>
      <div class="activity-label choose" id="activityLabel"></div>

      <div class="game-instructions" id="modeInstructions">
        <b>CHOOSE:</b> Click the correct option to complete the sentence.
      </div>

      <div class="choices hidden" id="choices"></div>
      <div class="wordbank hidden" id="wordbank"></div>
      <div class="answer hidden" id="answer"></div>

      <div class="actions-row">
        <button class="btn hidden" id="checkBtn">‚úÖ Check</button>
        <button class="btn btn-danger hidden" id="undoBtn">‚Ü© Undo</button>
      </div>

      <div class="feedback hidden" id="feedback"></div>
    </div>

  </div>
</div>

<!-- PAUSE OVERLAY -->
<div class="pause-overlay hidden" id="pauseOverlay">
  <div class="pause-box">
    <div style="font-size:1.3rem;font-weight:800;">Game paused</div>
    <div style="font-size:.95rem;color:#4b5563;">
      Take a breath. When you are ready, click ‚ÄúContinue‚Äù to keep playing.
    </div>
    <button class="btn" id="continueBtn">‚ñ∂ Continue</button>
  </div>
</div>

<script>
const startScreen=document.getElementById("startScreen");
const gameScreen=document.getElementById("gameScreen");
const playerName=document.getElementById("playerName");
const playerLabel=document.getElementById("playerLabel");
const startBtn=document.getElementById("startBtn");

const sentence=document.getElementById("sentence");
const activityLabel=document.getElementById("activityLabel");
const modeInstructions=document.getElementById("modeInstructions");
const choices=document.getElementById("choices");
const wordbank=document.getElementById("wordbank");
const answer=document.getElementById("answer");
const checkBtn=document.getElementById("checkBtn");
const undoBtn=document.getElementById("undoBtn");
const feedback=document.getElementById("feedback");
const progressBar=document.getElementById("progressBar");
const streakSpan=document.getElementById("streak");
const mistakesSpan=document.getElementById("mistakes");

const pauseBtn=document.getElementById("pauseBtn");
const resetBtn=document.getElementById("resetBtn");
const pauseOverlay=document.getElementById("pauseOverlay");
const continueBtn=document.getElementById("continueBtn");

function generateBank(){
  const bank=[];
  const places=[
    "in the classroom",
    "in the hall",
    "in the school",
    "in the park",
    "in the office",
    "in the kitchen",
    "in the garden",
    "in the library",
    "in the bathroom",
    "in the playground"
  ];
  const nouns=[
    {phrase:"some students", base:"students"},
    {phrase:"any students", base:"students"},
    {phrase:"some children", base:"children"},
    {phrase:"any children", base:"children"},
    {phrase:"some teachers", base:"teachers"},
    {phrase:"any teachers", base:"teachers"},
    {phrase:"some books", base:"books"},
    {phrase:"any books", base:"books"},
    {phrase:"many chairs", base:"chairs"},
    {phrase:"many tables", base:"tables"},
    {phrase:"some windows", base:"windows"},
    {phrase:"any windows", base:"windows"},
    {phrase:"some computers", base:"computers"},
    {phrase:"any computers", base:"computers"},
    {phrase:"some bags", base:"bags"}
  ];
  const whWords=["How many","Where","When","Why"];

  // PRESENT: affirmative / negative / yes-no questions
  places.forEach(p=>{
    nouns.forEach(n=>{
      // Affirmative choose
      bank.push({
        type:"choose",
        t:`____ ${n.phrase} ${p}.`,
        a:"There are",
        opts:["There is","There are","There was","There were"]
      });
      // Negative choose
      bank.push({
        type:"choose",
        t:`____ any ${n.base} ${p}.`,
        a:"There aren't",
        opts:["There isn't","There aren't","There wasn't","There weren't"]
      });
      // Yes/No question order
      bank.push({
        type:"order",
        t:"Order the question:",
        a:`Are there any ${n.base} ${p}?`
      });
      // Affirmative order
      bank.push({
        type:"order",
        t:"Order the sentence:",
        a:`There are some ${n.base} ${p}.`
      });
    });
  });

  // PAST: affirmative / negative / yes-no questions
  places.forEach(p=>{
    nouns.forEach(n=>{
      bank.push({
        type:"choose",
        t:`Yesterday, ____ many ${n.base} ${p}.`,
        a:"there were",
        opts:["there was","there were","there is","there are"]
      });
      bank.push({
        type:"choose",
        t:`Last week, ____ any ${n.base} ${p}.`,
        a:"there weren't",
        opts:["there wasn't","there weren't","there isn't","there aren't"]
      });
      bank.push({
        type:"order",
        t:"Order the question:",
        a:`Were there any ${n.base} ${p}?`
      });
      bank.push({
        type:"order",
        t:"Order the sentence:",
        a:`There were some ${n.base} ${p}.`
      });
    });
  });

  // WH-questions with be / there be (past)
  whWords.forEach(w=>{
    places.forEach(p=>{
      bank.push({
        type:"order",
        t:"Order the WH-question:",
        a:`${w} students were there ${p}?`
      });
    });
  });

  // WH-questions with be / there be (present)
  whWords.forEach(w=>{
    places.forEach(p=>{
      bank.push({
        type:"order",
        t:"Order the WH-question:",
        a:`${w} students are there ${p}?`
      });
    });
  });

  return bank;
}

const BANK=generateBank(); // 300+ items por combinatoria

let streak=0, mistakes=0, current;
let selectedWords=[];
const shuffle=a=>a.sort(()=>Math.random()-.5);

startBtn.onclick=startGame;

function startGame(){
  if(!playerName.value.trim()) return;
  playerLabel.textContent="üë§ "+playerName.value;
  startScreen.classList.add("hidden");
  gameScreen.classList.remove("hidden");
  progressBar.style.width="0%";
  streak=0;
  mistakes=0;
  streakSpan.textContent="0";
  mistakesSpan.textContent="0";
  next();
}

function next(){
  if(streak>=25){
    document.querySelector(".game").innerHTML=
      `<div class="feedback ok">‚≠ê YOU WON! ‚≠ê<br>You reached 25 correct answers in a row.</div>`;
    return;
  }
  current=shuffle(BANK)[0];
  sentence.textContent=current.t;
  activityLabel.textContent=current.type==="choose"?"CHOOSE THE CORRECT OPTION":"ORDER THE WORDS";
  activityLabel.className="activity-label "+current.type;
  modeInstructions.innerHTML=
    current.type==="choose"
      ? "<b>CHOOSE:</b> Click the correct option to complete the sentence."
      : "<b>ORDER:</b> Click the words in the correct order to build the sentence or question.";
  feedback.classList.add("hidden");
  choices.innerHTML="";
  wordbank.innerHTML="";
  answer.textContent="";
  selectedWords=[];
  if(current.type==="choose"){
    renderChoose();
  }else{
    renderOrder();
  }
}

function renderChoose(){
  choices.classList.remove("hidden");
  wordbank.classList.add("hidden");
  answer.classList.add("hidden");
  checkBtn.classList.add("hidden");
  undoBtn.classList.add("hidden");

  shuffle(current.opts).forEach((o,i)=>{
    const d=document.createElement("div");
    d.className="choice c"+(i+1);
    d.textContent=o;
    d.onclick=()=>check(o);
    choices.appendChild(d);
  });
}

function renderOrder(){
  choices.classList.add("hidden");
  wordbank.classList.remove("hidden");
  answer.classList.remove("hidden");
  checkBtn.classList.remove("hidden");
  undoBtn.classList.remove("hidden");

  shuffle(current.a.split(" ")).forEach(w=>{
    const s=document.createElement("div");
    s.className="word";
    s.textContent=w;
    s.onclick=()=>{
      if(s.classList.contains("used"))return;
      s.classList.add("used");
      selectedWords.push(w);
      answer.textContent=selectedWords.join(" ");
    };
    wordbank.appendChild(s);
  });
}

undoBtn.onclick=()=>{
  if(selectedWords.length===0) return;
  const removed=selectedWords.pop();
  answer.textContent=selectedWords.join(" ");
  [...wordbank.children].forEach(w=>{
    if(w.textContent===removed) w.classList.remove("used");
  });
};

checkBtn.onclick=()=>check(answer.textContent);

function check(v){
  feedback.classList.remove("hidden");
  if(v===current.a){
    streak++;
    feedback.textContent="‚úî Correct!";
    feedback.className="feedback ok";
  }else{
    streak=0;
    mistakes++;
    feedback.textContent=`‚úò Try again. Correct answer: "${current.a}"`;
    feedback.className="feedback no";
  }
  streakSpan.textContent=streak;
  mistakesSpan.textContent=mistakes;
  progressBar.style.width=(streak/25*100)+"%";
  setTimeout(next,1200);
}

pauseBtn.onclick=()=>{
  pauseOverlay.classList.remove("hidden");
};

continueBtn.onclick=()=>{
  pauseOverlay.classList.add("hidden");
};

resetBtn.onclick=()=>{
  streak=0;
  mistakes=0;
  streakSpan.textContent="0";
  mistakesSpan.textContent="0";
  progressBar.style.width="0%";
  feedback.classList.add("hidden");
  next();
};
</script>

</body>
</html>
