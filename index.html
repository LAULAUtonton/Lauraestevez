<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be & There Be – A2 Mastery</title>

<style>
:root{
  --blue:#2563eb;
  --green:#22c55e;
  --coral:#fb7185;
  --yellow:#fde047;
  --light:#f8fafc;
  --dark:#0f172a;
  --gray:#64748b;
  --white:#ffffff;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Nunito',system-ui;
  background:var(--light);
  color:var(--dark);
  font-size:20px;
}

.app{
  max-width:1000px;
  margin:auto;
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:18px;
}

.header{
  background:var(--blue);
  color:white;
  padding:22px;
  border-radius:18px;
}

.title{font-size:2rem;font-weight:900}
.subtitle{font-size:1.2rem;opacity:.9}

.stats{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:14px;
}

.stat{
  background:var(--white);
  padding:16px;
  border-radius:16px;
  text-align:center;
  font-weight:900;
}

.stat small{display:block;color:var(--gray)}

.game{
  background:#dbeafe;
  border-radius:22px;
  padding:26px;
  display:flex;
  flex-direction:column;
  gap:22px;
}

.sentence{
  background:var(--white);
  border:5px solid var(--yellow);
  border-radius:22px;
  padding:30px;
  font-size:2rem;
  font-weight:900;
  text-align:center;
}

.choices{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:16px;
}

.choice{
  padding:20px;
  border-radius:18px;
  font-size:1.4rem;
  font-weight:900;
  color:white;
  text-align:center;
  cursor:pointer;
}

.choice.green{background:var(--green)}
.choice.coral{background:var(--coral)}
.choice.blue{background:var(--blue)}

.feedback{
  text-align:center;
  font-size:1.6rem;
  font-weight:900;
}

.ok{color:var(--green)}
.no{color:var(--coral)}
</style>
</head>

<body>

<div class="app">

<div class="header">
  <div class="title">Be & There Be</div>
  <div class="subtitle">A2 · Choose the correct form</div>
</div>

<div class="stats">
  <div class="stat"><small>Streak</small><span id="streak">0</span></div>
  <div class="stat"><small>Mistakes</small><span id="mistakes">0</span></div>
  <div class="stat"><small>Best</small><span id="best">0</span></div>
  <div class="stat"><small>Time</small><span id="time">00:00</span></div>
</div>

<div class="game">
  <div class="sentence" id="sentence"></div>
  <div class="choices" id="choices"></div>
  <div class="feedback" id="feedback"></div>
</div>

</div>

<script>
/* ================= STATE ================= */
let streak=0, best=0, mistakes=0;
let start = Date.now();
let current = null;

/* ================= QUESTION BANK ================= */
/* IMPORTANT: NO VERB APPEARS – ONLY ____ */

const BANK = [
  { t:"Yesterday, ____ a test at school.", a:"there was" },
  { t:"Last night, ____ two exams.", a:"there were" },
  { t:"In the classroom, ____ many students yesterday.", a:"there were" },
  { t:"At the party, ____ a lot of people.", a:"there were" },

  { t:"Yesterday, ____ any homework.", a:"there wasn't" },
  { t:"Last week, ____ enough chairs.", a:"there weren't" },

  { t:"Right now, ____ two teachers in the room.", a:"there are" },
  { t:"At the moment, ____ a bus outside.", a:"there is" },

  { t:"I ____ very tired yesterday.", a:"was" },
  { t:"She ____ at home last night.", a:"was" },
  { t:"They ____ late to school.", a:"were" },

  { t:"I ____ ready yesterday.", a:"wasn't" },
  { t:"We ____ interested in the film.", a:"weren't" }
];

/* ================= OPTIONS ================= */
const ALL_CHOICES = [
  "there is","there are","there was","there were",
  "there isn't","there aren't","there wasn't","there weren't",
  "was","were","wasn't","weren't"
];

/* ================= LOGIC ================= */
function next(){
  current = BANK[Math.floor(Math.random()*BANK.length)];
  document.getElementById("sentence").textContent =
    current.t.replace("____","_____");
  document.getElementById("feedback").textContent = "";

  const options = shuffle([
    current.a,
    ...shuffle(ALL_CHOICES.filter(x=>x!==current.a)).slice(0,2)
  ]);

  const box = document.getElementById("choices");
  box.innerHTML = "";

  options.forEach(o=>{
    const b = document.createElement("div");
    b.className = "choice blue";
    b.textContent = o;
    b.onclick = ()=>answer(o);
    box.appendChild(b);
  });
}

function answer(choice){
  if(choice === current.a){
    streak++;
    best = Math.max(best, streak);
    document.getElementById("feedback").textContent = "Correct!";
    document.getElementById("feedback").className = "feedback ok";
  }else{
    streak = 0;
    mistakes++;
    document.getElementById("feedback").textContent = "Wrong – think again";
    document.getElementById("feedback").className = "feedback no";
  }

  document.getElementById("streak").textContent = streak;
  document.getElementById("mistakes").textContent = mistakes;
  document.getElementById("best").textContent = best;

  setTimeout(next,900);
}

function updateTime(){
  const s = Math.floor((Date.now()-start)/1000);
  document.getElementById("time").textContent =
    String(Math.floor(s/60)).padStart(2,"0")+":"+
    String(s%60).padStart(2,"0");
}

function shuffle(a){
  return [...a].sort(()=>Math.random()-0.5);
}

setInterval(updateTime,1000);
next();
</script>

</body>
</html>
