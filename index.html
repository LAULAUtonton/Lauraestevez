<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Be & There Be ‚Äì Streak to 25</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
:root{
  --primary:#6366f1;
  --secondary:#0f172a;
  --accent:#22c55e;
  --danger:#ef4444;
  --bg:#f8fafc;
  --white:#ffffff;
  --card:#ffffff;
  --chip:#e0f2fe;
  --chip-text:#0c4a6e;
}

*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Poppins",sans-serif;
  background:linear-gradient(135deg,#eef2ff,#fef9c3);
  color:var(--secondary);
  padding:0;
  margin:0;
}

/* Screens */
.screen{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
}
.hidden{display:none}

/* Start Screen */
.start-card{
  background:var(--white);
  max-width:600px;
  width:100%;
  padding:32px;
  border-radius:24px;
  box-shadow:0 10px 40px rgba(0,0,0,.15);
  display:flex;
  flex-direction:column;
  gap:20px;
}
.start-title{
  text-align:center;
  font-size:2.4rem;
  font-weight:800;
  color:var(--primary);
}
.subtitle{
  text-align:center;
  font-weight:600;
  color:#475569;
}
.instructions{
  background:#fef3c7;
  border-radius:16px;
  padding:18px;
  font-weight:600;
  border:2px dashed #f59e0b;
  font-size:1rem;
}
.name-input{
  padding:14px;
  border-radius:14px;
  border:2px solid var(--primary);
  font-weight:600;
  outline:none;
}
.name-input:focus{
  box-shadow:0 0 0 3px rgba(99,102,241,.25);
}

/* Buttons */
.btn{
  padding:14px 18px;
  border-radius:14px;
  background:var(--primary);
  color:white;
  font-weight:700;
  font-size:1.1rem;
  text-align:center;
  cursor:pointer;
  border:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  transition:transform .08s ease,box-shadow .08s ease;
}
.btn:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 20px rgba(99,102,241,.35);
}
.btn-secondary{background:var(--secondary)}
.btn-danger{background:var(--danger)}
.btn-music{background:#10b981}

/* Game Layout */
.app{
  max-width:900px;
  width:100%;
  display:flex;
  flex-direction:column;
  gap:18px;
}
.header{
  background:var(--primary);
  color:white;
  padding:16px;
  border-radius:16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:700;
}
.header-right{
  display:flex;
  gap:10px;
}

/* Progress */
.progress-wrap{
  background:#e2e8f0;
  border-radius:12px;
  overflow:hidden;
}
.progress-bar{
  height:18px;
  background:linear-gradient(90deg,var(--accent),#14b8a6);
  width:0%;
  transition:width .3s ease;
}

/* Stats */
.stats{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
.stat{
  background:var(--white);
  padding:12px;
  border-radius:12px;
  text-align:center;
  font-weight:700;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
}

/* Game Card */
.game{
  background:var(--card);
  padding:22px;
  border-radius:20px;
  display:flex;
  flex-direction:column;
  gap:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
}
.sentence{
  background:white;
  border:3px solid var(--primary);
  border-radius:16px;
  padding:20px;
  font-size:1.4rem;
  font-weight:700;
  text-align:center;
}
.activity-label{
  align-self:center;
  padding:6px 16px;
  border-radius:999px;
  color:white;
  font-weight:700;
  font-size:.9rem;
}
.choose{background:var(--accent)}
.order{background:#14b8a6}

.game-instructions{
  background:#e0f2fe;
  border-radius:12px;
  padding:12px;
  font-size:.95rem;
  font-weight:600;
  color:#0f172a;
  border:1px dashed #38bdf8;
}

/* Choices */
.choices{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:14px;
}
.choice{
  padding:16px;
  border-radius:14px;
  font-weight:700;
  color:white;
  text-align:center;
  cursor:pointer;
  box-shadow:0 6px 16px rgba(0,0,0,.15);
  transition:transform .08s ease;
}
.choice:hover{
  transform:translateY(-2px);
}
.c1{background:#6366f1}
.c2{background:#7c3aed}
.c3{background:#ec4899}
.c4{background:#facc15;color:black}

/* Wordbank */
.wordbank{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.word{
  background:var(--chip);
  color:var(--chip-text);
  padding:10px 18px;
  border-radius:999px;
  font-weight:700;
  font-size:1rem;
  cursor:pointer;
  border:2px solid #bae6fd;
}
.word.used{
  background:#e2e8f0;
  color:#64748b;
  border:2px dashed #94a3b8;
  cursor:not-allowed;
}

/* Answer */
.answer{
  min-height:60px;
  background:white;
  border:3px dashed #14b8a6;
  border-radius:14px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:700;
  font-size:1.2rem;
  padding:8px;
}

/* Feedback */
.feedback{
  text-align:center;
  font-weight:800;
  font-size:1.2rem;
  padding:12px;
  border-radius:12px;
}
.ok{background:#dcfce7;color:#166534}
.no{background:#fee2e2;color:#991b1b}

/* Pause Overlay */
.pause-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:20;
}
.pause-box{
  background:white;
  padding:24px;
  border-radius:16px;
  max-width:300px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
  display:flex;
  flex-direction:column;
  gap:14px;
}
</style>
</head>

<body>

<!-- START SCREEN -->
<div class="screen" id="startScreen">
  <div class="start-card">
    <div class="start-title">Be & There Be</div>
    <div class="subtitle">Build a perfect streak of 25 correct answers</div>

    <div class="instructions">
      üéØ <b>Goal:</b> Get <b>25 correct answers in a row</b>.<br>
      üí° Practise <b>there is / there are / there was / there were</b>.<br>
      üß† Affirmative, negative & WH‚Äëquestions.
    </div>

    <input id="playerName" class="name-input" placeholder="Write your name here">
    <button class="btn" id="startBtn">üöÄ Start game</button>
  </div>
</div>

<!-- GAME SCREEN -->
<div class="screen hidden" id="gameScreen">
  <div class="app">

    <div class="header">
      <div id="playerLabel"></div>
      <div class="header-right">
        <button class="btn-music" id="musicBtn">üéµ</button>
        <button class="btn-secondary" id="pauseBtn">‚è∏</button>
        <button class="btn-danger" id="resetBtn">üîÅ</button>
      </div>
    </div>

    <div class="progress-wrap">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="stats">
      <div class="stat">Streak<br><span id="streak">0</span>/25</div>
      <div class="stat">Mistakes<br><span id="mistakes">0</span></div>
    </div>

    <div class="game">
      <div class="sentence" id="sentence"></div>
      <div class="activity-label choose" id="activityLabel"></div>

      <div class="game-instructions" id="modeInstructions"></div>

      <div class="choices hidden" id="choices"></div>
      <div class="wordbank hidden" id="wordbank"></div>
      <div class="answer hidden" id="answer"></div>

      <div class="actions-row">
        <button class="btn hidden" id="checkBtn">Check</button>
        <button class="btn-secondary hidden" id="undoBtn">Undo</button>
      </div>

      <div class="feedback hidden" id="feedback"></div>
    </div>

  </div>
</div>

<!-- PAUSE OVERLAY -->
<div class="pause-overlay hidden" id="pauseOverlay">
  <div class="pause-box">
    <div style="font-size:1.3rem;font-weight:800;">Game paused</div>
    <div style="font-size:.95rem;color:#4b5563;">
      Take a breath. When you are ready, click ‚ÄúContinue‚Äù.
    </div>
    <button class="btn" id="continueBtn">‚ñ∂ Continue</button>
  </div>
</div>

<script src="sentences.js"></script>

<script>
/* --- GAME LOGIC (igual que tu versi√≥n, pero m√°s limpia) --- */

const startScreen=document.getElementById("startScreen");
const gameScreen=document.getElementById("gameScreen");
const playerName=document.getElementById("playerName");
const playerLabel=document.getElementById("playerLabel");
const startBtn=document.getElementById("startBtn");

const sentence=document.getElementById("sentence");
const activityLabel=document.getElementById("activityLabel");
const modeInstructions=document.getElementById("modeInstructions");
const choices=document.getElementById("choices");
const wordbank=document.getElementById("wordbank");
const answer=document.getElementById("answer");
const checkBtn=document.getElementById("checkBtn");
const undoBtn=document.getElementById("undoBtn");
const feedback=document.getElementById("feedback");
const progressBar=document.getElementById("progressBar");
const streakSpan=document.getElementById("streak");
const mistakesSpan=document.getElementById("mistakes");

const pauseBtn=document.getElementById("pauseBtn");
const resetBtn=document.getElementById("resetBtn");
const pauseOverlay=document.getElementById("pauseOverlay");
const continueBtn=document.getElementById("continueBtn");
const musicBtn=document.getElementById("musicBtn");

let streak=0, mistakes=0, current;
let selectedWords=[];
const shuffle=a=>a.sort(()=>Math.random()-.5);

let music=new Audio("music.mp3");
music.loop=true;

musicBtn.onclick=()=>{
  if(music.paused){ music.play(); musicBtn.textContent="üîä"; }
  else{ music.pause(); musicBtn.textContent="üéµ"; }
};

startBtn.onclick=startGame;

function startGame(){
  if(!playerName.value.trim()) return;
  playerLabel.textContent="üë§ "+playerName.value;
  startScreen.classList.add("hidden");
  gameScreen.classList.remove("hidden");
  streak=0; mistakes=0;
  streakSpan.textContent="0";
  mistakesSpan.textContent="0";
  progressBar.style.width="0%";
  next();
}

function next(){
  if(streak>=25){
    document.querySelector(".game").innerHTML=
      `<div class="feedback ok">‚≠ê YOU WON! ‚≠ê<br>You reached 25 correct answers in a row.</div>`;
    return;
  }

  current=shuffle(BANK)[0];

  sentence.textContent=current.t;
  activityLabel.textContent=current.type==="choose"?"CHOOSE":"ORDER";
  activityLabel.className="activity-label "+current.type;

  modeInstructions.innerHTML=
    current.type==="choose"
      ? "<b>CHOOSE:</b> Click the correct option."
      : "<b>ORDER:</b> Click the words in the correct order.";

  feedback.classList.add("hidden");
  choices.innerHTML="";
  wordbank.innerHTML="";
  answer.textContent="";
  selectedWords=[];

  if(current.type==="choose") renderChoose();
  else renderOrder();
}

function renderChoose(){
  choices.classList.remove("hidden");
  wordbank.classList.add("hidden");
  answer.classList.add("hidden");
  checkBtn.classList.add("hidden");
  undoBtn.classList.add("hidden");

  shuffle(current.opts).forEach((o,i)=>{
    const d=document.createElement("div");
    d.className="choice c"+(i+1);
    d.textContent=o;
    d.onclick=()=>check(o);
    choices.appendChild(d);
  });
}

function renderOrder(){
  choices.classList.add("hidden");
  wordbank.classList.remove("hidden");
  answer.classList.remove("hidden");
  checkBtn.classList.remove("hidden");
  undoBtn.classList.remove("hidden");

  shuffle(current.a.split(" ")).forEach(w=>{
    const s=document.createElement("div");
    s.className="word";
    s.textContent=w;
    s.onclick=()=>{
      if(s.classList.contains("used"))return;
      s.classList.add("used");
      selectedWords.push(w);
      answer.textContent=selectedWords.join(" ");
    };
    wordbank.appendChild(s);
  });
}

undoBtn.onclick=()=>{
  if(selectedWords.length===0) return;
  const removed=selectedWords.pop();
  answer.textContent=selectedWords.join(" ");
  [...wordbank.children].forEach(w=>{
    if(w.textContent===removed) w.classList.remove("used");
  });
};

checkBtn.onclick=()=>check(answer.textContent);

function check(v){
  feedback.classList.remove("hidden");
  if(v===current.a){
    streak++;
    feedback.textContent="‚úî Correct!";
    feedback.className="feedback ok";
  }else{
    streak=0;
    mistakes++;
    feedback.textContent=`‚úò Try again. Correct answer: "${current.a}"`;
    feedback.className="feedback no";
  }
  streakSpan.textContent=streak;
  mistakesSpan.textContent=mistakes;
  progressBar.style.width=(streak/25*100)+"%";
  setTimeout(next,1200);
}

pauseBtn.onclick=()=>pauseOverlay.classList.remove("hidden");
continueBtn.onclick=()=>pauseOverlay.classList.add("hidden");

resetBtn.onclick=()=>{
  streak=0; mistakes=0;
  streakSpan.textContent="0";
  mistakesSpan.textContent="0";
  progressBar.style.width="0%";
  feedback.classList.add("hidden");
  next();
};
</script>

</body>
</html>
